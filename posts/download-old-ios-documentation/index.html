<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Davel"><title>下载老版本 iOS SDK 开发文档 ｜ 一言半辞</title><meta name=description content="众所周知，苹果是一个“极度激进”的公司，发布iOS10，就想让你放弃iOS9。可国内的现状是想摆脱iOS8都困难，不支持iOS7都会是一个很艰难的决定。同时，升级Xcode会把旧版本的开发文档移除，开"><meta name=keywords content="Hugo,theme,zozo"><link rel="shortcut icon" href=http://localhost:1313/images/favicon.ico><link rel=stylesheet type=text/css media=screen href=http://localhost:1313/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css><link rel=stylesheet type=text/css media=screen href=http://localhost:1313/css/zozo.css><link rel=stylesheet type=text/css media=screen href=https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css><link rel=stylesheet type=text/css media=screen href=http://localhost:1313/css/highlight.css></head><body><div class="main animate__animated animate__fadeInDown"><div class="nav_container animated fadeInDown"><div class=site_nav id=site_nav><ul><li><a href=/>Home</a></li><li><a href=/posts/>Archive</a></li><li><a href=/tags/>Tags</a></li></ul></div><div class=menu_icon><a id=menu_icon><i class=ri-menu-line></i></a></div></div><div class="header animated fadeInDown"><div class=site_title_container><div class=site_title><h1><a href=http://localhost:1313/><span>一言半辞</span></a></h1></div><div class=description><p class=sub_title></p><div class=my_socials><a href=http://localhost:1313/index.xml type=application/rss+xml title=rss target=_blank><i class=ri-rss-fill></i></a></div></div></div></div><div class=content><div class=post_page><div class="post animate__animated animate__fadeInDown"><div class="post_title post_detail_title"><h2><a href=/posts/download-old-ios-documentation/>下载老版本 iOS SDK 开发文档</a></h2><span class=date>2016.12.21</span></div><div class="post_content markdown"><p>众所周知，苹果是一个“极度激进”的公司，发布iOS10，就想让你放弃iOS9。可国内的现状是想摆脱iOS8都困难，不支持iOS7都会是一个很艰难的决定。同时，升级Xcode会把旧版本的开发文档移除，开发者只能乖乖地下载新版文档。</p><p>不知道是不是我的需求有些奇葩，我竟然想要找旧版本的iOS开发文档，如iOS8。不过难免会有这方面的需求，遇到问题毫不退缩迎难而上，是RD的基本素养。（喂，自夸也要有个限度啊）</p><h3 id=工具准备>工具准备</h3><ul><li><p>Dash
Dash是Mac上非常优秀的API文档查看软件，集成了150+种语言和框架的开发文档，主打即时搜索离线文档，效率利器。售价$24.99，略贵，但也很公道。</p><p>前段时间苹果把Dash各平台的app都做了下架处理，所以如果需要购买可以去官网。对此事件稍微有些了解，双方各执一词，不多作评价。但这丝毫不影响Dash是一款非常棒的应用。</p><p>需要Dash主要是因为我们可以把下载下来的旧版本docset放到目标位置，让dash可以扫描到并加载，我们使用Dash进行文档的查看，Xcode已经指望不上了。</p></li><li><p>BetterZip</p><p>有个功能类似于WinRAR，可以在解压之前查看压缩的内部文件列表。嗯，仅此而已。没有也可以。不过我不喜欢把几百M的压缩包解压完再看对比里面的东西是不是如预期。</p></li></ul><h3 id=探索>探索</h3><p>Google了一段时间，换了各种关键字，终于从<a href=http://useyourloaf.com/blog/downloading-old-ios-sdk-documentation/>Downloading Old iOS SDK Documentation</a>的评论中找到一些线索。该篇博文由于时代久远信息陈旧放到Xcode8.0的现在已不适用，不过评论还是有新鲜的。</p><blockquote><p><a href=http://ww1.sinaimg.cn/large/7e921c39gw1fayun5r4twj210y0i441o.jpg><img src=http://ww1.sinaimg.cn/large/7e921c39gw1fayun5r4twj210y0i441o.jpg alt></a></p></blockquote><p>Big Will给出的两个链接均是devimages.apple.com域的，并依然可用，下载下来是dmg格式的。于是发散思维，转而去寻找dmg格式历史文档了。</p><p>上面给出的链接为：<a href=http://devimages.apple.com/docsets/20131022/031-1317-A.dmg>http://devimages.apple.com/docsets/20131022/031-1317-A.dmg</a></p><p>搜索关键字：devimages.apple.com，docset，2014</p><p>因为我要找iOS8的文档。Google结果第一条：
<a href=https://developer.apple.com/library/downloads/docset-index.dvtdownloadableindex>https://developer.apple.com/library/downloads/docset-index.dvtdownloadableindex</a></p><p>就是它了，是一个xml格式的文件。截取iOS8相关部分：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=c>&lt;!-- START iOS 8 --&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;dict&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;key&gt;</span>fileSize<span class=nt>&lt;/key&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;integer&gt;</span>438780988<span class=nt>&lt;/integer&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;key&gt;</span>identifier<span class=nt>&lt;/key&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;string&gt;</span>com.apple.adc.documentation.AppleiOS8.0.iOSLibrary<span class=nt>&lt;/string&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;key&gt;</span>name<span class=nt>&lt;/key&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;string&gt;</span>iOS 8<span class=nt>&lt;/string&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;key&gt;</span>source<span class=nt>&lt;/key&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;string&gt;</span>https://devimages.apple.com.edgekey.net/docsets/20140917/031-06020-A.dmg<span class=nt>&lt;/string&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;key&gt;</span>userInfo<span class=nt>&lt;/key&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/dict&gt;</span>
</span></span></code></pre></div><p>倒数第二行的<code>&lt;string></code>标签内的链接就是我们要找的dmg API文档了。</p><p>加载dmg文件，使用BetterZip查看里面的文件，是pkg。</p><p>不过凭程序员的直觉，这个pkg也不过是个zip文件，改后缀果然能解压。 继续改后缀，解压，改后缀，解压，然后就得到了我们熟悉的<code>.docset</code>文档。</p><p>简易流程图：（懒癌晚期，就不分别截图了）</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>031-06020-A.dmg -&gt; 
</span></span><span class=line><span class=cl>iOSDocset.pkg   --rename--&gt;  iOSDocset.zip  -&gt; 
</span></span><span class=line><span class=cl>Payload 		--rename--&gt;  Payload.zip 	-&gt; 
</span></span><span class=line><span class=cl>Payload 		--rename--&gt;  Payload.zip 	-&gt; # 没错，包了两层
</span></span><span class=line><span class=cl>com.apple.adc.documentation.AppleiOS8.0.iOSLibrary.docset
</span></span></code></pre></div><p>接下来把docset文件放入
<code>~/Library/Developer/Shared/Documentation/DocSets/</code></p><p>进入Dash的设置Docsets，点rescan就会搜索到新加入的API文档。然后Do whatever you want。</p><h3 id=备份>备份</h3><p>下面对 docset-index.dvtdownloadableindex 做一个备份：
<a href=/Download-old-version-iOS-SDK-documentation/docset-index.dvtdownloadableindex title=docset-index.dvtdownloadableindex>docset-index.dvtdownloadableindex</a></p></div><div class=post_footer></div></div><div class=doc_comments><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//davelliu.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div></div><a id=back_to_top href=# class=back_to_top><i class=ri-arrow-up-s-line></i></a><footer class=footer><div class=powered_by><a href=https://varkai.com>Designed by VarKai,</a>
<a href=http://www.gohugo.io/>Proudly published with Hugo</a></div><div class=footer_slogan><span></span></div></footer><script src=http://localhost:1313/js/jquery-3.5.1.min.js></script>
<link href=http://localhost:1313/css/fancybox.min.css rel=stylesheet><script src=http://localhost:1313/js/fancybox.min.js></script>
<script src=http://localhost:1313/js/zozo.js></script>
<script type=text/javascript async src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["[[","]]"]],processEscapes:!0,processEnvironments:!0,skipTags:["script","noscript","style","textarea","pre"],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}}),MathJax.Hub.Queue(function(){var e,t=MathJax.Hub.getAllJax();for(e=0;e<t.length;e+=1)t[e].SourceElement().parentNode.className+=" has-jax"})</script><style>code.has-jax{font:inherit;font-size:100%;background:inherit;border:inherit;color:#515151}</style></body></html>